#!/bin/bash

# Проверяем наличие аргумента с именем исходного файла
if [ -z "$1" ]; then
  echo "Использование: $0 <файл.c>"
  exit 1
fi

# Имя исходного файла
source_file="$1"

# Имя исполняемого файла (без расширения)
executable_file="${source_file%.*}"

# Компилируем программу
gcc -o "$executable_file" "$source_file"

# Проверяем наличие ошибок компиляции
if [ $? -ne 0 ]; then
  echo "Компиляция завершилась с ошибками. Открываем редактор..."
  # Открываем редактор для исправления ошибок
  nano "$source_file"
  exit 1
fi

# Запускаем исполняемый файл
./"$executable_file"
